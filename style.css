:root{
  --bg: #050505;
  --fg: #e8e8e8;
  --muted: rgba(232,232,232,0.65);
  --danger: rgba(255,80,80,0.85);
  --panel: rgba(0,0,0,0.62);
  --line: rgba(255,255,255,0.12);
  --glow: rgba(255,255,255,0.08);
  --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}

html, body{
  margin:0;
  padding:0;
  width:100%;
  height:100%;
  background:var(--bg);
  overflow:hidden;
  color:var(--fg);
  font-family:var(--sans);
}

#c{
  width:100%;
  height:100%;
  display:block;
  background: #000;
}

#hud{
  position:fixed;
  inset:0;
  pointer-events:none;
}

#topbar{
  position:absolute;
  top:14px;
  left:14px;
  right:14px;
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  gap:10px;
  pointer-events:none;
}

#title{
  font-weight:800;
  letter-spacing:0.22em;
  font-size:12px;
  opacity:0.9;
  text-shadow:0 0 18px var(--glow);
}

#objective{
  font-family:var(--mono);
  font-size:12px;
  opacity:0.85;
  padding:8px 10px;
  border:1px solid var(--line);
  background: linear-gradient(180deg, rgba(0,0,0,0.55), rgba(0,0,0,0.25));
  border-radius:10px;
  backdrop-filter: blur(4px);
}

#hint{
  position:absolute;
  bottom:16px;
  left:50%;
  transform:translateX(-50%);
  font-family:var(--mono);
  font-size:12px;
  opacity:0.7;
  padding:8px 12px;
  border:1px solid var(--line);
  background:var(--panel);
  border-radius:12px;
  backdrop-filter: blur(4px);
  max-width:min(720px, calc(100% - 32px));
  text-align:center;
}

#reticle{
  position:absolute;
  left:50%;
  top:50%;
  transform:translate(-50%,-50%);
  font-family:var(--mono);
  opacity:0.35;
  font-size:18px;
  text-shadow:0 0 12px rgba(255,255,255,0.15);
}

.hidden{ display:none !important; }

#prompt{
  position:absolute;
  left:50%;
  top:55%;
  transform:translate(-50%,-50%);
  display:flex;
  align-items:center;
  gap:10px;
  padding:10px 12px;
  border-radius:14px;
  border:1px solid var(--line);
  background:var(--panel);
  backdrop-filter: blur(6px);
}

.promptKey{
  font-family:var(--mono);
  border:1px solid var(--line);
  border-radius:10px;
  padding:6px 10px;
  opacity:0.9;
  background:rgba(255,255,255,0.04);
}

.promptText{
  font-family:var(--mono);
  opacity:0.85;
  max-width:520px;
}

#dialogue{
  position:absolute;
  left:50%;
  bottom:78px;
  transform:translateX(-50%);
  width:min(760px, calc(100% - 32px));
  background: linear-gradient(180deg, rgba(0,0,0,0.72), rgba(0,0,0,0.50));
  border:1px solid var(--line);
  border-radius:18px;
  padding:14px 14px 12px 14px;
  backdrop-filter: blur(8px);
  box-shadow: 0 8px 40px rgba(0,0,0,0.55);
  pointer-events:none;
}

#dialogueHeader{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:10px;
  margin-bottom:10px;
}

#speaker{
  font-weight:800;
  letter-spacing:0.12em;
  font-size:12px;
  opacity:0.9;
}

#sig{
  font-family:var(--mono);
  font-size:11px;
  opacity:0.6;
}

#dialogueBody{
  font-family:var(--mono);
  font-size:13px;
  line-height:1.5;
  opacity:0.92;
  white-space:pre-wrap;
}

#dialogueChoices{
  margin-top:10px;
  display:flex;
  flex-direction:column;
  gap:6px;
}

.choice{
  font-family:var(--mono);
  font-size:12px;
  padding:8px 10px;
  border:1px solid var(--line);
  border-radius:12px;
  background:rgba(255,255,255,0.03);
  opacity:0.9;
}

.choice .k{
  opacity:0.8;
  margin-right:8px;
}

#dialogueFooter{
  margin-top:10px;
  font-family:var(--mono);
  font-size:11px;
  opacity:0.55;
}

#journal{
  position:absolute;
  top:62px;
  right:14px;
  width:min(420px, calc(100% - 28px));
  max-height:calc(100% - 88px);
  overflow:auto;
  border:1px solid var(--line);
  border-radius:18px;
  background: linear-gradient(180deg, rgba(0,0,0,0.72), rgba(0,0,0,0.50));
  backdrop-filter: blur(8px);
  box-shadow: 0 8px 40px rgba(0,0,0,0.55);
  pointer-events:none;
}

#journalHeader{
  padding:12px 12px 10px 12px;
  border-bottom:1px solid var(--line);
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:12px;
  font-family:var(--mono);
}

#journalBody{
  padding:12px;
  font-family:var(--mono);
  font-size:12px;
  line-height:1.45;
  opacity:0.92;
  white-space:pre-wrap;
}

#journalFooter{
  padding:10px 12px 12px 12px;
  border-top:1px solid var(--line);
  font-family:var(--mono);
  font-size:11px;
  opacity:0.55;
}

.tiny{ font-size:11px; opacity:0.65; }

#fade{
  position:absolute;
  inset:0;
  background: radial-gradient(ellipse at center, rgba(0,0,0,0) 40%, rgba(0,0,0,0.15) 75%, rgba(0,0,0,0.35) 100%);
  opacity:0.45;
}

#grain{
  position:absolute;
  inset:-20%;
  opacity:0.12;
  background-image:
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='180' height='180'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='180' height='180' filter='url(%23n)' opacity='.45'/%3E%3C/svg%3E");
  mix-blend-mode: overlay;
  animation: drift 9s linear infinite;
}

@keyframes drift{
  from{ transform:translate3d(-3%, -2%, 0); }
  to{ transform:translate3d(3%, 2%, 0); }
}

#vignette{
  position:absolute;
  inset:0;
  pointer-events:none;
  background: radial-gradient(ellipse at center, rgba(0,0,0,0) 45%, rgba(0,0,0,0.35) 78%, rgba(0,0,0,0.62) 100%);
  opacity:0.9;
}

