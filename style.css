:root{
  --bg:#070707;
  --fg:#e9e2d7;
  --dim:#b9b0a3;
  --accent:#d4c38a;
  --danger:#ff5757;

  --panel: rgba(0,0,0,.66);
  --panel2: rgba(10,8,6,.74);
  --line: rgba(255,255,255,.10);

  --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  --serif: ui-serif, Georgia, "Times New Roman", Times, serif;
}

*{ box-sizing:border-box; }
html,body{ height:100%; margin:0; background:var(--bg); color:var(--fg); overflow:hidden; }
#app{ position:relative; width:100%; height:100%; }
#c{ width:100%; height:100%; display:block; }

.mono{ font-family:var(--mono); letter-spacing:.02em; }
.dim{ color:var(--dim); }

.panel{
  position:absolute; inset:0;
  display:flex; align-items:center; justify-content:center;
  background: radial-gradient(ellipse at center, rgba(0,0,0,.35), rgba(0,0,0,.85));
  z-index:50;
}

.btn{
  appearance:none; border:1px solid var(--line);
  background: rgba(18,14,10,.75);
  color:var(--fg);
  padding: 12px 16px;
  border-radius: 10px;
  cursor:pointer;
  font-family:var(--mono);
  transition: transform .08s ease, background .12s ease, border-color .12s ease;
}
.btn:hover{ background: rgba(30,22,15,.82); border-color: rgba(255,255,255,.18); }
.btn:active{ transform: translateY(1px); }
.btn.small{ padding:8px 10px; border-radius: 8px; }
.btn.ghost{ background: rgba(0,0,0,.22); }

#bootBg{
  position:absolute; inset:0;
  background:
    radial-gradient(ellipse at 50% 40%, rgba(0,0,0,.2), rgba(0,0,0,.85)),
    url("./assets/style_ref.png");
  background-size: cover;
  background-position:center;
  filter: blur(6px) contrast(1.05) saturate(.9);
  opacity:.35;
  z-index:0;
}
.boot-inner{
  position:relative;
  width:min(900px, 92vw);
  padding: 26px 22px;
  border:1px solid var(--line);
  border-radius: 18px;
  background: linear-gradient(180deg, rgba(10,8,6,.84), rgba(0,0,0,.80));
  box-shadow: 0 12px 60px rgba(0,0,0,.55);
  z-index:1;
}
.boot-title{
  font-family:var(--serif);
  font-size: clamp(28px, 4.2vw, 54px);
  letter-spacing:.04em;
}
.boot-sub{ margin-top: 10px; display:flex; flex-direction:column; gap:6px; }
.boot-actions{ margin-top: 18px; display:flex; gap:12px; flex-wrap:wrap; }
.boot-hint{ margin-top: 16px; }
.boot-footer{ margin-top: 10px; font-size: 12px; opacity:.9; }

#hud{
  position:absolute; inset:0; pointer-events:none;
  z-index:10;
}
#topLeft{ position:absolute; left:14px; top:14px; display:flex; flex-direction:column; gap:8px; }
.badge{
  display:inline-block;
  padding: 10px 12px;
  border-radius: 12px;
  border:1px solid var(--line);
  background: rgba(0,0,0,.35);
  backdrop-filter: blur(6px);
  font-family: var(--mono);
  font-size: 12px;
}
#status{ font-size: 12px; max-width: 340px; }

#reticle{
  position:absolute; left:50%; top:50%;
  width: 10px; height:10px;
  transform: translate(-50%,-50%);
  border:1px solid rgba(255,255,255,.30);
  border-radius: 50%;
  box-shadow: 0 0 16px rgba(255,255,255,.08);
  opacity:.85;
}

#bottomLeft{ position:absolute; left:14px; bottom:14px; max-width: 520px; }
#hint{ font-size: 12px; background: rgba(0,0,0,.25); border:1px solid var(--line); padding:10px 12px; border-radius:12px; backdrop-filter: blur(6px); }

#bottomRight{ position:absolute; right:14px; bottom:14px; width:min(260px, 44vw); }
#meters{ display:flex; flex-direction:column; gap:10px; }
.meter-label{ font-size: 11px; margin-bottom: 6px; }
.meter-bar{ height:12px; border:1px solid var(--line); border-radius: 999px; background: rgba(0,0,0,.25); overflow:hidden; }
.meter-fill{ height:100%; width:50%; background: linear-gradient(90deg, rgba(212,195,138,.95), rgba(255,87,87,.75)); opacity:.9; }

.dialogue{
  position:absolute; left:50%; bottom:18px;
  transform: translateX(-50%);
  width:min(920px, 94vw);
  border:1px solid var(--line);
  border-radius: 16px;
  background: linear-gradient(180deg, rgba(0,0,0,.70), rgba(10,8,6,.80));
  box-shadow: 0 14px 60px rgba(0,0,0,.55);
  padding: 16px 16px 12px;
  z-index:30;
}
.hidden{ display:none !important; }
.dialogue-name{ font-size: 12px; text-transform:uppercase; letter-spacing:.12em; opacity:.9; }
.dialogue-text{ margin-top: 10px; font-family: var(--serif); font-size: 18px; line-height: 1.35; }
.dialogue-choices{ margin-top: 12px; display:flex; gap:10px; flex-wrap:wrap; }
.choice{
  pointer-events:auto;
  padding:10px 12px;
  border-radius: 12px;
  border:1px solid var(--line);
  background: rgba(0,0,0,.35);
  cursor:pointer;
  font-family: var(--mono);
  font-size: 12px;
}
.choice:hover{ border-color: rgba(255,255,255,.22); background: rgba(25,18,12,.50); }
.dialogue-footer{ margin-top: 10px; font-size: 12px; }

#journal .journal-inner{
  width:min(1100px, 94vw);
  border:1px solid var(--line);
  border-radius: 18px;
  background: linear-gradient(180deg, rgba(12,10,8,.86), rgba(0,0,0,.80));
  box-shadow: 0 14px 60px rgba(0,0,0,.55);
  padding: 16px;
}
.journal-header{ display:flex; justify-content:space-between; align-items:center; gap:12px; }
.journal-title{ font-family: var(--serif); font-size: 32px; letter-spacing:.04em; }
.journal-columns{ display:grid; grid-template-columns: 1fr 1fr; gap: 14px; margin-top: 12px; }
.journal-col{ display:flex; flex-direction:column; gap: 10px; }
.section-title{ font-size: 12px; letter-spacing:.14em; text-transform:uppercase; }
.journal-box{
  border:1px solid var(--line);
  border-radius: 14px;
  background: rgba(0,0,0,.25);
  padding: 12px;
  min-height: 220px;
  overflow:auto;
}
.note{
  border-bottom:1px solid rgba(255,255,255,.08);
  padding: 10px 0;
}
.note:last-child{ border-bottom:none; }
.note-title{ font-family: var(--mono); font-size: 12px; opacity:.9; }
.note-body{ margin-top: 6px; font-family: var(--serif); font-size: 16px; line-height:1.35; }

#accessibility .acc-inner{
  width:min(680px, 92vw);
  border:1px solid var(--line);
  border-radius: 18px;
  background: linear-gradient(180deg, rgba(12,10,8,.86), rgba(0,0,0,.80));
  box-shadow: 0 14px 60px rgba(0,0,0,.55);
  padding: 16px;
}
.acc-title{ font-family: var(--serif); font-size: 30px; letter-spacing:.03em; }
.acc-row{
  margin-top: 14px;
  display:flex; gap:12px; align-items:center; justify-content:space-between;
  border:1px solid rgba(255,255,255,.08);
  padding: 10px 12px;
  border-radius: 14px;
  background: rgba(0,0,0,.20);
}
.acc-row input{ width: 260px; }
.acc-actions{ margin-top: 16px; display:flex; justify-content:flex-end; }

#postfx{ position:absolute; inset:0; pointer-events:none; z-index:20; }
#grainLayer{
  position:absolute; inset:0;
  background-image:
    repeating-linear-gradient(0deg, rgba(255,255,255,.02), rgba(255,255,255,.02) 1px, rgba(0,0,0,0) 2px, rgba(0,0,0,0) 3px),
    repeating-linear-gradient(90deg, rgba(255,255,255,.01), rgba(255,255,255,.01) 1px, rgba(0,0,0,0) 2px, rgba(0,0,0,0) 3px);
  mix-blend-mode: overlay;
  opacity:.6;
  filter: contrast(1.1);
  animation: grain 0.9s steps(2) infinite;
}
@keyframes grain{
  0%{ transform: translate(0,0); }
  25%{ transform: translate(-1.2%, 0.8%); }
  50%{ transform: translate(1.3%, -0.9%); }
  75%{ transform: translate(-0.7%, -1.1%); }
  100%{ transform: translate(0,0); }
}
#vignetteLayer{
  position:absolute; inset:0;
  background: radial-gradient(ellipse at center, rgba(0,0,0,0) 45%, rgba(0,0,0,.62) 100%);
  opacity:.7;
}

#end .end-inner{
  width:min(900px, 92vw);
  border:1px solid var(--line);
  border-radius: 18px;
  background: linear-gradient(180deg, rgba(12,10,8,.86), rgba(0,0,0,.80));
  box-shadow: 0 14px 60px rgba(0,0,0,.55);
  padding: 16px;
}
.end-title{ font-family: var(--serif); font-size: 34px; letter-spacing:.03em; }
.end-text{ margin-top: 10px; font-family: var(--serif); font-size: 18px; line-height: 1.4; }
.end-actions{ margin-top: 16px; display:flex; gap: 10px; flex-wrap:wrap; }

@media (max-width: 820px){
  .journal-columns{ grid-template-columns: 1fr; }
}
